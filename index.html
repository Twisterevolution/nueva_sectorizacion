<!DOCTYPE html>
<html>
<head>
	<style>
		#map { 
		    width: 100%;
		    height: 580px;
		    box-shadow: 5px 5px 5px #888;
	 	}
	</style>

	<title>mapas</title>
	<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script> 
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
	<script src="./L.KML.js"></script>
</head>
<body>
	<div id = 'map'>
	</div>
</body>
<footer>
	<script>
  /*var map = L.map('map').
     setView([-38.73, -72.59],
     13);*/



const map = new L.Map('map', { center: new L.LatLng(-38.73, -72.59), zoom: 13 });
const osm = new L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png');
map.addLayer(osm);


            fetch('./tco.kml')
                .then(res => res.text())
                .then(kmltext => {
                    // Create new kml overlay
                    const parser = new DOMParser();
                    const kml = parser.parseFromString(kmltext, 'text/xml');
                    const track = new L.KML(kml);
                    map.addLayer(track);

                    // Adjust map to show the kml
                    const bounds = track.getBounds();
                    map.fitBounds(bounds);
                });





	
/*var marker =L.marker([-38.73, -72.59],{
	draggable: true,
	name: 'Yoni place'

}).addTo(map);
marker.bindPopup("<b>Prueba de marcar </b><br>emergente.");


var popup = L.popup();*/

function onMapClick(e) {
    popup
        .setLatLng(e.latlng)
        .setContent("You clicked the map at " + e.latlng.toString())
        .openOn(mymap);
}

//mymap.on('click', onMapClick);

</script>
</footer>
</html>